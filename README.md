# Digest DRF Microservice 


## Для чего нужно:
Микросервис для формирования даджеста новостей. Собирает посты из подписок пользователя, фильтрует по популярности и формирует дайджест для головного сервиса (фронтенд, приложение).

## Как работает:

Микросервис общается с другими сервисами по средствам REST API. Все запросы к эндпоинтам делаются при помощи библиотеки "requests".
### Пример запроса:
```
subscriptions = re.get(f'http://127.0.0.1:8000/users/{self.user_id}/subscriptions/')
subscriptions.json()
```
### Пример ответа:
```
{
    "subscriptions": [
    1,
    4
    ]
}
```
Данные обрабатываются внутри класса Digest, экземпляры которого и возвращаются в головное приложение для дальнейшего использования
```
"user_id": "1",
    "digest_list": [
        {
            "id": 1,
            "title": "text",
            "post": "text",
            "rating": 4
        },
        {
            "id": 3,
            "title": "text",
            "post": "text",
            "rating": 5
        },
        {
            "id": 6,
            "title": "text",
            "post": "text",
            "rating": 5
        }
    ]
}
```

